import { Button } from "@/components/button/Button";
import { ConnectionState } from "livekit-client";
import { LoadingSVG } from "@/components/button/LoadingSVG";
import { ReactNode } from "react";

type PlaygroundHeader = {
  logo?: ReactNode;
  title?: ReactNode;
  githubLink?: string;
  height: number;
  accentColor: string;
  connectionState: ConnectionState;
  onConnectClicked: () => void;
};

export const PlaygroundHeader = ({
  logo,
  title,
  githubLink,
  accentColor,
  height,
  onConnectClicked,
  connectionState,
}: PlaygroundHeader) => {
  return (
    <div
      className={`flex gap-4 pt-4 text-${accentColor}-500 justify-between items-center shrink-0`}
      style={{
        height: height + "px",
      }}
    >
      <div className="flex items-center gap-3 basis-2/3">
        <div className="flex lg:basis-1/2">
          <a href="https://livekit.io">{logo ?? <LKLogo />}</a>
        </div>
        <div className="lg:basis-1/2 lg:text-center text-xs lg:text-base lg:font-semibold text-darkblue">
          {title}
        </div>
      </div>
      <div className="flex basis-1/3 justify-end items-center gap-4">
        {githubLink && (
          <a
            href={githubLink}
            target="_blank"
            className={`text-white hover:text-white/80`}
          >
            <GithubSVG />
          </a>
        )}
        <Button
          accentColor={
            connectionState === ConnectionState.Connected ? "red" : accentColor
          }
          disabled={connectionState === ConnectionState.Connecting}
          onClick={() => {
            onConnectClicked();
          }}
        >
          {connectionState === ConnectionState.Connecting ? (
            <LoadingSVG />
          ) : connectionState === ConnectionState.Connected ? (
            "Disconnect"
          ) : (
            "Connect"
          )}
        </Button>
      </div>
    </div>
  );
};

const LKLogo = () => (
<svg width="50" zoomAndPan="magnify" viewBox="0 0 375 374.999991" height="50" preserveAspectRatio="xMidYMid meet" version="1.0"><defs><g/><clipPath id="34bbb3ef5a"><path d="M 127.046875 106.460938 L 247.796875 106.460938 L 247.796875 204.710938 L 127.046875 204.710938 Z M 127.046875 106.460938 " clip-rule="nonzero"/></clipPath></defs><rect x="-37.5" width="450" fill="#ffffff" y="-37.499999" height="449.999989" fill-opacity="1"/><rect x="-37.5" width="450" fill="#03fdc8" y="-37.499999" height="449.999989" fill-opacity="1"/><g clip-path="url(#34bbb3ef5a)"><path fill="#ffffff" d="M 160.875 116.0625 L 186.867188 116.0625 C 192.40625 116.0625 197.167969 114.78125 201.980469 112.023438 L 210.855469 106.898438 C 211.605469 106.460938 212.449219 106.460938 213.175781 106.898438 C 213.925781 107.332031 214.335938 108.058594 214.335938 108.90625 L 214.335938 116.0625 L 232.398438 116.0625 C 236.65625 116.0625 240.136719 119.542969 240.136719 123.800781 L 240.136719 147.277344 L 245.820312 147.277344 C 246.980469 147.277344 247.949219 148.246094 247.949219 149.40625 L 247.949219 161.449219 C 247.949219 162.609375 246.980469 163.578125 245.820312 163.578125 L 240.136719 163.578125 L 240.136719 168.773438 C 240.136719 175.933594 237.210938 182.4375 232.496094 187.152344 C 227.78125 191.867188 221.277344 194.792969 214.117188 194.792969 L 188.125 194.792969 C 182.585938 194.792969 177.824219 196.074219 173.011719 198.832031 L 164.136719 203.957031 C 163.386719 204.394531 162.542969 204.394531 161.816406 203.957031 C 161.066406 203.523438 160.65625 202.796875 160.65625 201.949219 L 160.65625 194.792969 L 142.59375 194.792969 C 138.335938 194.792969 134.855469 191.3125 134.855469 187.054688 L 134.855469 163.578125 L 129.171875 163.578125 C 128.011719 163.578125 127.046875 162.609375 127.046875 161.449219 L 127.046875 149.40625 C 127.046875 148.246094 128.011719 147.277344 129.171875 147.277344 L 134.855469 147.277344 L 134.855469 142.078125 C 134.855469 134.921875 137.78125 128.417969 142.496094 123.703125 C 147.210938 118.988281 153.714844 116.0625 160.875 116.0625 Z M 179.035156 155.425781 C 179.035156 151.292969 175.671875 147.933594 171.539062 147.933594 C 167.402344 147.933594 164.042969 151.292969 164.042969 155.425781 C 164.042969 159.5625 167.402344 162.921875 171.539062 162.921875 C 175.671875 162.921875 179.035156 159.5625 179.035156 155.425781 Z M 210.953125 155.425781 C 210.953125 151.292969 207.589844 147.933594 203.457031 147.933594 C 199.320312 147.933594 195.960938 151.292969 195.960938 155.425781 C 195.960938 159.5625 199.320312 162.921875 203.457031 162.921875 C 207.589844 162.921875 210.953125 159.5625 210.953125 155.425781 Z M 230.464844 155.425781 L 230.464844 125.757812 C 228.191406 125.757812 225.894531 125.757812 223.621094 125.757812 C 218.496094 125.757812 214.335938 121.574219 214.335938 116.472656 L 214.335938 116.085938 L 207.542969 120.003906 C 200.699219 123.945312 193.953125 125.757812 186.046875 125.757812 L 160.875 125.757812 C 156.375 125.757812 152.3125 127.597656 149.339844 130.570312 C 146.367188 133.542969 144.527344 137.605469 144.527344 142.105469 L 144.527344 185.121094 C 146.800781 185.121094 149.097656 185.121094 151.371094 185.121094 C 156.496094 185.121094 160.65625 189.304688 160.65625 194.40625 L 160.65625 194.792969 L 167.449219 190.875 C 174.292969 186.933594 181.039062 185.121094 188.949219 185.121094 L 214.121094 185.121094 C 218.617188 185.121094 222.679688 183.285156 225.652344 180.308594 C 228.628906 177.335938 230.464844 173.273438 230.464844 168.773438 Z M 230.464844 155.425781 " fill-opacity="1" fill-rule="evenodd"/></g><g fill="#ffffff" fill-opacity="1"><g transform="translate(61.682033, 247.07641)"><g><path d="M 13.5 0.390625 C 11.175781 0.390625 9.082031 -0.109375 7.21875 -1.109375 C 5.351562 -2.117188 3.890625 -3.503906 2.828125 -5.265625 C 1.773438 -7.023438 1.25 -9.003906 1.25 -11.203125 C 1.25 -13.398438 1.773438 -15.378906 2.828125 -17.140625 C 3.890625 -18.898438 5.351562 -20.28125 7.21875 -21.28125 C 9.082031 -22.28125 11.175781 -22.78125 13.5 -22.78125 C 15.820312 -22.78125 17.910156 -22.28125 19.765625 -21.28125 C 21.628906 -20.28125 23.09375 -18.898438 24.15625 -17.140625 C 25.226562 -15.378906 25.765625 -13.398438 25.765625 -11.203125 C 25.765625 -9.003906 25.226562 -7.023438 24.15625 -5.265625 C 23.09375 -3.503906 21.628906 -2.117188 19.765625 -1.109375 C 17.910156 -0.109375 15.820312 0.390625 13.5 0.390625 Z M 13.5 -4.03125 C 14.820312 -4.03125 16.015625 -4.332031 17.078125 -4.9375 C 18.148438 -5.550781 18.988281 -6.398438 19.59375 -7.484375 C 20.207031 -8.578125 20.515625 -9.816406 20.515625 -11.203125 C 20.515625 -12.585938 20.207031 -13.820312 19.59375 -14.90625 C 18.988281 -16 18.148438 -16.847656 17.078125 -17.453125 C 16.015625 -18.066406 14.820312 -18.375 13.5 -18.375 C 12.175781 -18.375 10.976562 -18.066406 9.90625 -17.453125 C 8.84375 -16.847656 8.007812 -16 7.40625 -14.90625 C 6.800781 -13.820312 6.5 -12.585938 6.5 -11.203125 C 6.5 -9.816406 6.800781 -8.578125 7.40625 -7.484375 C 8.007812 -6.398438 8.84375 -5.550781 9.90625 -4.9375 C 10.976562 -4.332031 12.175781 -4.03125 13.5 -4.03125 Z M 13.5 -4.03125 "/></g></g></g><g fill="#ffffff" fill-opacity="1"><g transform="translate(91.883395, 247.07641)"><g><path d="M 23.203125 -22.40625 L 23.203125 0 L 18.9375 0 L 7.78125 -13.59375 L 7.78125 0 L 2.65625 0 L 2.65625 -22.40625 L 6.9375 -22.40625 L 18.078125 -8.796875 L 18.078125 -22.40625 Z M 23.203125 -22.40625 "/></g></g></g><g fill="#ffffff" fill-opacity="1"><g transform="translate(120.933048, 247.07641)"><g><path d="M 19.109375 -11.640625 C 20.390625 -11.242188 21.390625 -10.566406 22.109375 -9.609375 C 22.835938 -8.660156 23.203125 -7.492188 23.203125 -6.109375 C 23.203125 -4.148438 22.4375 -2.640625 20.90625 -1.578125 C 19.382812 -0.523438 17.160156 0 14.234375 0 L 2.65625 0 L 2.65625 -22.40625 L 13.59375 -22.40625 C 16.332031 -22.40625 18.429688 -21.878906 19.890625 -20.828125 C 21.347656 -19.785156 22.078125 -18.367188 22.078125 -16.578125 C 22.078125 -15.484375 21.816406 -14.507812 21.296875 -13.65625 C 20.773438 -12.8125 20.046875 -12.140625 19.109375 -11.640625 Z M 7.8125 -18.5 L 7.8125 -13.21875 L 12.953125 -13.21875 C 14.234375 -13.21875 15.203125 -13.441406 15.859375 -13.890625 C 16.523438 -14.335938 16.859375 -15 16.859375 -15.875 C 16.859375 -16.75 16.523438 -17.40625 15.859375 -17.84375 C 15.203125 -18.28125 14.234375 -18.5 12.953125 -18.5 Z M 13.859375 -3.90625 C 15.222656 -3.90625 16.25 -4.128906 16.9375 -4.578125 C 17.632812 -5.023438 17.984375 -5.71875 17.984375 -6.65625 C 17.984375 -8.507812 16.609375 -9.4375 13.859375 -9.4375 L 7.8125 -9.4375 L 7.8125 -3.90625 Z M 13.859375 -3.90625 "/></g></g></g><g fill="#ffffff" fill-opacity="1"><g transform="translate(148.607028, 247.07641)"><g><path d="M 13.5 0.390625 C 11.175781 0.390625 9.082031 -0.109375 7.21875 -1.109375 C 5.351562 -2.117188 3.890625 -3.503906 2.828125 -5.265625 C 1.773438 -7.023438 1.25 -9.003906 1.25 -11.203125 C 1.25 -13.398438 1.773438 -15.378906 2.828125 -17.140625 C 3.890625 -18.898438 5.351562 -20.28125 7.21875 -21.28125 C 9.082031 -22.28125 11.175781 -22.78125 13.5 -22.78125 C 15.820312 -22.78125 17.910156 -22.28125 19.765625 -21.28125 C 21.628906 -20.28125 23.09375 -18.898438 24.15625 -17.140625 C 25.226562 -15.378906 25.765625 -13.398438 25.765625 -11.203125 C 25.765625 -9.003906 25.226562 -7.023438 24.15625 -5.265625 C 23.09375 -3.503906 21.628906 -2.117188 19.765625 -1.109375 C 17.910156 -0.109375 15.820312 0.390625 13.5 0.390625 Z M 13.5 -4.03125 C 14.820312 -4.03125 16.015625 -4.332031 17.078125 -4.9375 C 18.148438 -5.550781 18.988281 -6.398438 19.59375 -7.484375 C 20.207031 -8.578125 20.515625 -9.816406 20.515625 -11.203125 C 20.515625 -12.585938 20.207031 -13.820312 19.59375 -14.90625 C 18.988281 -16 18.148438 -16.847656 17.078125 -17.453125 C 16.015625 -18.066406 14.820312 -18.375 13.5 -18.375 C 12.175781 -18.375 10.976562 -18.066406 9.90625 -17.453125 C 8.84375 -16.847656 8.007812 -16 7.40625 -14.90625 C 6.800781 -13.820312 6.5 -12.585938 6.5 -11.203125 C 6.5 -9.816406 6.800781 -8.578125 7.40625 -7.484375 C 8.007812 -6.398438 8.84375 -5.550781 9.90625 -4.9375 C 10.976562 -4.332031 12.175781 -4.03125 13.5 -4.03125 Z M 13.5 -4.03125 "/></g></g></g><g fill="#ffffff" fill-opacity="1"><g transform="translate(178.808391, 247.07641)"><g><path d="M 17.40625 -4.796875 L 7.015625 -4.796875 L 5.03125 0 L -0.28125 0 L 9.703125 -22.40625 L 14.8125 -22.40625 L 24.828125 0 L 19.390625 0 Z M 15.78125 -8.734375 L 12.21875 -17.3125 L 8.671875 -8.734375 Z M 15.78125 -8.734375 "/></g></g></g><g fill="#ffffff" fill-opacity="1"><g transform="translate(206.514375, 247.07641)"><g><path d="M 16.921875 0 L 12.609375 -6.234375 L 7.84375 -6.234375 L 7.84375 0 L 2.65625 0 L 2.65625 -22.40625 L 12.359375 -22.40625 C 14.335938 -22.40625 16.054688 -22.070312 17.515625 -21.40625 C 18.984375 -20.75 20.109375 -19.8125 20.890625 -18.59375 C 21.679688 -17.375 22.078125 -15.929688 22.078125 -14.265625 C 22.078125 -12.609375 21.675781 -11.175781 20.875 -9.96875 C 20.082031 -8.757812 18.945312 -7.835938 17.46875 -7.203125 L 22.5 0 Z M 16.828125 -14.265625 C 16.828125 -15.523438 16.421875 -16.488281 15.609375 -17.15625 C 14.804688 -17.832031 13.625 -18.171875 12.0625 -18.171875 L 7.84375 -18.171875 L 7.84375 -10.375 L 12.0625 -10.375 C 13.625 -10.375 14.804688 -10.710938 15.609375 -11.390625 C 16.421875 -12.078125 16.828125 -13.035156 16.828125 -14.265625 Z M 16.828125 -14.265625 "/></g></g></g><g fill="#ffffff" fill-opacity="1"><g transform="translate(233.228592, 247.07641)"><g><path d="M 2.65625 -22.40625 L 12.828125 -22.40625 C 15.265625 -22.40625 17.414062 -21.9375 19.28125 -21 C 21.144531 -20.070312 22.59375 -18.765625 23.625 -17.078125 C 24.664062 -15.398438 25.1875 -13.441406 25.1875 -11.203125 C 25.1875 -8.960938 24.664062 -7 23.625 -5.3125 C 22.59375 -3.625 21.144531 -2.316406 19.28125 -1.390625 C 17.414062 -0.460938 15.265625 0 12.828125 0 L 2.65625 0 Z M 12.578125 -4.25 C 14.816406 -4.25 16.601562 -4.875 17.9375 -6.125 C 19.269531 -7.375 19.9375 -9.066406 19.9375 -11.203125 C 19.9375 -13.335938 19.269531 -15.023438 17.9375 -16.265625 C 16.601562 -17.515625 14.816406 -18.140625 12.578125 -18.140625 L 7.84375 -18.140625 L 7.84375 -4.25 Z M 12.578125 -4.25 "/></g></g></g><g fill="#ffffff" fill-opacity="1"><g transform="translate(262.854093, 247.07641)"><g/></g></g><g fill="#ffffff" fill-opacity="1"><g transform="translate(275.107876, 247.07641)"><g><path d="M 17.40625 -4.796875 L 7.015625 -4.796875 L 5.03125 0 L -0.28125 0 L 9.703125 -22.40625 L 14.8125 -22.40625 L 24.828125 0 L 19.390625 0 Z M 15.78125 -8.734375 L 12.21875 -17.3125 L 8.671875 -8.734375 Z M 15.78125 -8.734375 "/></g></g></g><g fill="#ffffff" fill-opacity="1"><g transform="translate(302.813861, 247.07641)"><g><path d="M 2.65625 -22.40625 L 7.84375 -22.40625 L 7.84375 0 L 2.65625 0 Z M 2.65625 -22.40625 "/></g></g></g></svg>
);

const GithubSVG = () => (
  <svg
    width="24"
    height="24"
    viewBox="0 0 98 96"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fillRule="evenodd"
      clipRule="evenodd"
      d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z"
      fill="currentColor"
    />
  </svg>
);
